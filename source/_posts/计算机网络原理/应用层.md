---
title: 计算机网络原理-应用层
date: 2022-03-05 16:42:37
toc: true
categories: "计算机网络原理"
tags: [网络, Socket]
---

# 一、计算机网络应用体系结构

## 一、C/S结构网络应用

客户/服务器结构的网络应用是**最典型、最基本**的网络应用。例如：www应用，文件传输，电子邮件。
特点：
  1. 通信双方分为客户程序和服务器程序，用户与用户之间不进行直接通信
  2. 服务器程序需先运行
  3. 客户程序后运行，主动与服务器进行通信

## 二、纯P2P结构的网络应用
通信双方没有传统意义上的客户端服务器之分，地位对等，通信双方都具备客户端与服务器的特征
特点：
1. 应用的对等方都是用户的计算机
2. 很强的应用规模伸缩性
3. 应用在对等方之间进行
4. 应用充分剧集利用了端系统的计算能力以及网络传输带宽

## 三、混合结构网络应用
混合结构挽留过应用将C/S应用和P2P应用相结合 

# 二、网络应用通信的基本原理

## 一、网络应用的节本通信过程
运行在不同主机上的**应用进程**间以**C/S**进行的通信

## 二、网络应用编程接口
典型的网络应用编程接口：**套接字(Socket)**，对于一个传输层协议，需要为其接口的每个套接字分配特定的编号，标识改套接字，该编号称为**端口号 **

01-37-16

# 三、域名系统（DNS）

# 四、万维网应用

# 五、Internet电子邮件

# 六、FTP

# 七、P2P应用

# 八、Socket编程基础
{% asset_img socket.png socket %}

## 一、套接字与端口号

* 套接字(Socket)：典型的网络应用编程接口
* 端口号：标识套接字
* 扩展常见的端口号
  
    | 端口号               | 描述                     |
    |:-------------------:|:-----------------------:|
    | 20(数据)、21（控制）  | FTP文件传输协议           | 
    | 25                  | SMTP简单邮件传输协议       | 
    | 53                  | DNS域名服务器             | 
    | 80                  | HTTP超文本传输协议        | 
    | 110                 | POP3第三版邮局协议        | 


## 二、Socket API

### 1.创建套接字

```
socket()
```

* 传输层使用UDP协议，创建数据报类型套接字(SOCK_DGRAM)
* 传输层使用TCP协议，创建流式套接字(SOCK_STREAM)
* 应用层数据没有经过传输层，直接到网络层，创建原始套接字(SOCK_RAW)

### 2.Socket API 函数

1.创建套接字：`socket()`

2.绑定套接字的本地端点地址：`bind()`

3.设置监听：`listen()`

4.建立连接

  - TCP客户端：`connect()`
  - TCP服务端：`accept()`

5.接收数据

  - TCP：`recv()`
  - UDP：`recvfrom()`

6.发送数据

  - TCP：`send()`
  - UDP： `sendto()`

7.关闭套接字：`close()`



